/*
	About: rustext converter
	Author: ziggi
	Thanks Fro1sha for SanLtd symbol codes
*/

#include <map>
#include "converter.hpp"

std::map <int, Converter::Types> Converter::gConverterMap {
	/* а */ {224, {97,  97,  97,  97,  65,  65}},
	/* А */ {192, {65,  65,  65,  65,  65,  65}},
	/* б */ {225, {151, 152, 151, 151, 128, 54}},
	/* Б */ {193, {128, 129, 128, 128, 128, 54}},
	/* в */ {226, {162, 162, 152, 152, 129, 66}},
	/* В */ {194, {139, 139, 129, 129, 129, 66}},
	/* г */ {227, {153, 159, 153, 153, 130, 70}},
	/* Г */ {195, {130, 136, 130, 130, 130, 70}},
	/* д */ {228, {154, 154, 154, 154, 131, 68}},
	/* Д */ {196, {131, 131, 131, 131, 131, 68}},
	/* е */ {229, {101, 101, 101, 101, 69,  69}},
	/* Е */ {197, {69,  69,  69,  69,  69,  69}},
	/* ё */ {184, {101, 160, 175, 101, 69,  137}},
	/* Ё */ {168, {69,  137, 69,  69,  69,  137}},
	/* ж */ {230, {155, 155, 155, 155, 149, 71}},
	/* Ж */ {198, {132, 132, 132, 132, 149, 71}},
	/* з */ {231, {159, 156, 159, 159, 138, 51}},
	/* З */ {199, {136, 133, 136, 136, 138, 51}},
	/* и */ {232, {156, 157, 156, 156, 139, 78}},
	/* И */ {200, {133, 134, 133, 133, 139, 78}},
	/* й */ {233, {157, 158, 157, 157, 140, 78}},
	/* Й */ {201, {134, 135, 134, 134, 140, 78}},
	/* к */ {234, {107, 107, 107, 107, 75,  75}},
	/* К */ {202, {75,  75,  75,  75,  75,  75}},
	/* л */ {235, {158, 161, 158, 158, 132, 76}},
	/* Л */ {203, {135, 138, 135, 135, 132, 76}},
	/* м */ {236, {175, 109, 109, 175, 77,  77}},
	/* М */ {204, {77,  77,  77,  77,  77,  77}},
	/* н */ {237, {174, 164, 174, 174, 72,  72}},
	/* Н */ {205, {72,  141, 72,  72,  72,  72}},
	/* о */ {238, {111, 111, 111, 111, 79,  79}},
	/* О */ {206, {79,  79,  79,  79,  79,  79}},
	/* п */ {239, {163, 163, 163, 163, 150, 90}},
	/* П */ {207, {140, 140, 140, 140, 150, 90}},
	/* р */ {240, {112, 112, 112, 112, 80,  80}},
	/* Р */ {208, {80,  80,  80,  80,  80,  80}},
	/* с */ {241, {99,  99,  99,  99,  67,  67}},
	/* С */ {209, {67,  67,  67,  67,  67,  67}},
	/* т */ {242, {166, 116, 166, 166, 84,  84}},
	/* Т */ {210, {143, 84,  143, 143, 84,  84}},
	/* у */ {243, {121, 121, 121, 121, 137, 89}},
	/* У */ {211, {89,  89,  150, 89,  137, 89}},
	/* ф */ {244, {152, 167, 162, 152, 142, 86}},
	/* Ф */ {212, {129, 144, 139, 129, 142, 86}},
	/* х */ {245, {120, 120, 120, 120, 88,  88}},
	/* Х */ {213, {88,  88,  88,  88,  88,  88}},
	/* ц */ {246, {160, 168, 160, 160, 134, 81}},
	/* Ц */ {214, {137, 145, 137, 137, 134, 81}},
	/* ч */ {247, {164, 153, 164, 164, 135, 52}},
	/* Ч */ {215, {141, 130, 141, 141, 135, 52}},
	/* ш */ {248, {165, 165, 165, 165, 141, 87}},
	/* Ш */ {216, {142, 142, 142, 142, 141, 87}},
	/* щ */ {249, {161, 169, 161, 161, 136, 87}},
	/* Щ */ {217, {138, 146, 138, 138, 136, 87}},
	/* ъ */ {250, {167, 170, 167, 167, 143, 74}},
	/* Ъ */ {218, {144, 147, 144, 144, 143, 74}},
	/* ы */ {251, {168, 171, 168, 168, 144, 83}},
	/* Ы */ {219, {145, 148, 145, 145, 144, 83}},
	/* ь */ {252, {169, 172, 169, 169, 145, 74}},
	/* Ь */ {220, {146, 149, 146, 146, 145, 74}},
	/* э */ {253, {170, 166, 170, 170, 146, 51}},
	/* Э */ {221, {147, 143, 147, 147, 146, 51}},
	/* ю */ {254, {171, 151, 171, 171, 147, 85}},
	/* Ю */ {222, {148, 128, 148, 148, 147, 85}},
	/* я */ {255, {172, 174, 172, 172, 148, 82}},
	/* Я */ {223, {149, 173, 149, 149, 148, 82}},
	/* * */ {42,  {93,  93,  93,  93,  93,  93}},
	/* @ */ {64,  {124, 124, 124, 124, 124, 124}}
};

void Converter::Process(std::string &string)
{
	for (auto &c : string) {
		if (gConverterMap.find(c & 0xFF) != gConverterMap.end()) {
			c = gConverterMap[c & 0xFF].SanLtd;
		}
	}
}
