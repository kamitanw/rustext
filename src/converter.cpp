/*
	About: rustext converter
	Author: ziggi
	Thanks Fro1sha for SanLtd symbol codes
*/

#include <map>
#include "converter.hpp"

std::map <int, Converter::Types> Converter::gConverterMap {
	/* а */ {224, {97,  97,  97,  65,  65,  97}},
	/* А */ {192, {65,  65,  65,  65,  65,  65}},
	/* б */ {225, {151, 151, 152, 128, 54,  151}},
	/* Б */ {193, {128, 128, 129, 128, 54,  128}},
	/* в */ {226, {162, 152, 162, 129, 66,  152}},
	/* В */ {194, {139, 129, 139, 129, 66,  129}},
	/* г */ {227, {153, 153, 159, 130, 70,  153}},
	/* Г */ {195, {130, 130, 136, 130, 70,  130}},
	/* д */ {228, {154, 154, 154, 131, 68,  154}},
	/* Д */ {196, {131, 131, 131, 131, 68,  131}},
	/* е */ {229, {101, 101, 101, 69,  69,  101}},
	/* Е */ {197, {69,  69,  69,  69,  69,  69}},
	/* ё */ {184, {101, 101, 160, 69,  137, 175}},
	/* Ё */ {168, {69,  69,  137, 69,  137, 69}},
	/* ж */ {230, {155, 155, 155, 149, 71,  155}},
	/* Ж */ {198, {132, 132, 132, 149, 71,  132}},
	/* з */ {231, {159, 159, 156, 138, 51,  159}},
	/* З */ {199, {136, 136, 133, 138, 51,  136}},
	/* и */ {232, {156, 156, 157, 139, 78,  156}},
	/* И */ {200, {133, 133, 134, 139, 78,  133}},
	/* й */ {233, {157, 157, 158, 140, 78,  157}},
	/* Й */ {201, {134, 134, 135, 140, 78,  134}},
	/* к */ {234, {107, 107, 107, 75,  75,  107}},
	/* К */ {202, {75,  75,  75,  75,  75,  75}},
	/* л */ {235, {158, 158, 161, 132, 76,  158}},
	/* Л */ {203, {135, 135, 138, 132, 76,  135}},
	/* м */ {236, {175, 175, 109, 77,  77,  109}},
	/* М */ {204, {77,  77,  77,  77,  77,  77}},
	/* н */ {237, {174, 174, 164, 72,  72,  174}},
	/* Н */ {205, {72,  72,  141, 72,  72,  72}},
	/* о */ {238, {111, 111, 111, 79,  79,  111}},
	/* О */ {206, {79,  79,  79,  79,  79,  79}},
	/* п */ {239, {163, 163, 163, 150, 90,  163}},
	/* П */ {207, {140, 140, 140, 150, 90,  140}},
	/* р */ {240, {112, 112, 112, 80,  80,  112}},
	/* Р */ {208, {80,  80,  80,  80,  80,  80}},
	/* с */ {241, {99,  99,  99,  67,  67,  99}},
	/* С */ {209, {67,  67,  67,  67,  67,  67}},
	/* т */ {242, {166, 166, 116, 84,  84,  166}},
	/* Т */ {210, {143, 143, 84,  84,  84,  143}},
	/* у */ {243, {121, 121, 121, 137, 89,  121}},
	/* У */ {211, {89,  89,  89,  137, 89,  150}},
	/* ф */ {244, {152, 152, 167, 142, 86,  162}},
	/* Ф */ {212, {129, 129, 144, 142, 86,  139}},
	/* х */ {245, {120, 120, 120, 88,  88,  120}},
	/* Х */ {213, {88,  88,  88,  88,  88,  88}},
	/* ц */ {246, {160, 160, 168, 134, 81,  160}},
	/* Ц */ {214, {137, 137, 145, 134, 81,  137}},
	/* ч */ {247, {164, 164, 153, 135, 52,  164}},
	/* Ч */ {215, {141, 141, 130, 135, 52,  141}},
	/* ш */ {248, {165, 165, 165, 141, 87,  165}},
	/* Ш */ {216, {142, 142, 142, 141, 87,  142}},
	/* щ */ {249, {161, 161, 169, 136, 87,  161}},
	/* Щ */ {217, {138, 138, 146, 136, 87,  138}},
	/* ъ */ {250, {167, 167, 170, 143, 74,  167}},
	/* Ъ */ {218, {144, 144, 147, 143, 74,  144}},
	/* ы */ {251, {168, 168, 171, 144, 83,  168}},
	/* Ы */ {219, {145, 145, 148, 144, 83,  145}},
	/* ь */ {252, {169, 169, 172, 145, 74,  169}},
	/* Ь */ {220, {146, 146, 149, 145, 74,  146}},
	/* э */ {253, {170, 170, 166, 146, 51,  170}},
	/* Э */ {221, {147, 147, 143, 146, 51,  147}},
	/* ю */ {254, {171, 171, 151, 147, 85,  171}},
	/* Ю */ {222, {148, 148, 128, 147, 85,  148}},
	/* я */ {255, {172, 172, 174, 148, 82,  172}},
	/* Я */ {223, {149, 149, 173, 148, 82,  149}},
	/* * */ {42,  {93,  93,  93,  93,  93,  93}},
	/* @ */ {64,  {124, 124, 124, 124, 124, 124}}
};

void Converter::Process(std::string &string)
{
	for (auto &c : string) {
		if (gConverterMap.find(c & 0xFF) != gConverterMap.end()) {
			c = gConverterMap[c & 0xFF].SanLtd;
		}
	}
}
